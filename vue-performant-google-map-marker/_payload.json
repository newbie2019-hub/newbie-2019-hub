[{"data":1,"prerenderedAt":1505},["ShallowReactive",2],{"content-query-G2DpKFQ1VA":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":5,"title":7,"description":8,"date":9,"preview":10,"draft":6,"tags":11,"categories":17,"slug":19,"body":20,"_type":1499,"_id":1500,"_source":1501,"_file":1502,"_stem":1503,"_extension":1504},"/vue-performant-google-map-marker","",false,"VueJs - Thousand Performant Google Map Marker","Rendering thousands of custom google map marker without clustering","August 20, 2024","img/multi-marker.jpg",[12,13,14,15,16],"gmap","marker","vue","js","typescript",[18,13,14,16],"custom","performant-google-map-marker",{"type":21,"children":22,"toc":1494},"root",[23,32,38,43,48,53,59,64,88,93,102,110,116,139,151,1488],{"type":24,"tag":25,"props":26,"children":28},"element","h3",{"id":27},"vuejs-rendering-thousands-of-advanced-google-map-marker",[29],{"type":30,"value":31},"text","VueJS - Rendering Thousands of Advanced Google Map Marker",{"type":24,"tag":33,"props":34,"children":35},"p",{},[36],{"type":30,"value":37},"Rendering thousands of Google Map markers without clustering can be a challenging task, especially when prioritizing performance and visual clarity. By using a custom overlay instead of traditional markers provides greater flexibility in managing complex visual elements directly in the DOM.",{"type":24,"tag":33,"props":39,"children":40},{},[41],{"type":30,"value":42},"This approach enables precise control over marker rendering and interactions, making it ideal for scenarios where clustering is not feasible or desired, such as representing distinct data points that must remain individually visible.",{"type":24,"tag":33,"props":44,"children":45},{},[46],{"type":30,"value":47},"Note: This approach isnt just for vue but can be done in any framework as well.",{"type":24,"tag":33,"props":49,"children":50},{},[51],{"type":30,"value":52},"Let's go through the process and see how I manage to render thousands of google map marker.",{"type":24,"tag":25,"props":54,"children":56},{"id":55},"performance-problem",[57],{"type":30,"value":58},"Performance Problem",{"type":24,"tag":33,"props":60,"children":61},{},[62],{"type":30,"value":63},"Some users may want to view all markers on a map without using clustering for various reasons. However, rendering a large number of markers—say, 5,000 or more—on Google Maps can lead to significant performance issues, even during the initial load. Despite optimizations like using SVGs instead of images (as Google Maps optimizes them), setting marker sizes, and batch rendering, the initial render remains sluggish, and dragging the map feels unresponsive, resulting in a subpar user experience.",{"type":24,"tag":33,"props":65,"children":66},{},[67,69,78,80,86],{"type":30,"value":68},"At first, I thought there might be something wrong with my implementation. However, after extensive research, I came across an issue tracker related to rendering a large number of markers on Google Maps. You can find more details here: ",{"type":24,"tag":70,"props":71,"children":75},"a",{"href":72,"rel":73},"https://issuetracker.google.com/issues/333423690",[74],"nofollow",[76],{"type":30,"value":77},"Google Issue Tracker",{"type":30,"value":79},". After reviewing this, I’m assured that I’ve done everything possible to optimize the code, but the root cause ",{"type":24,"tag":81,"props":82,"children":83},"strong",{},[84],{"type":30,"value":85},"maybe",{"type":30,"value":87}," lies with the Google Maps marker itself.",{"type":24,"tag":33,"props":89,"children":90},{},[91],{"type":30,"value":92},"Some of the comments from the issue tracker.",{"type":24,"tag":94,"props":95,"children":96},"blockquote",{},[97],{"type":24,"tag":33,"props":98,"children":99},{},[100],{"type":30,"value":101},"Wait, google gave us AdvancedMarker, saying they are better in all aspects, but they can't even display 200 of them? Considering this, google should maybe keep both, marker and advancedmarker, alive. You could add to the docs that one should use normal marker if the number of them exceeds some amount.",{"type":24,"tag":94,"props":103,"children":104},{},[105],{"type":24,"tag":33,"props":106,"children":107},{},[108],{"type":30,"value":109},"with old markers, we allowed up to 1500 without clustering. With new ones i find 200-250 is equivalent in performance, 500 has some short freezes already and increased memory usage.\nCustom SVG/html - but overall the complex of these elements is equivalent to the default google markers - and i get similar performance drops with default markers.",{"type":24,"tag":25,"props":111,"children":113},{"id":112},"solution",[114],{"type":30,"value":115},"Solution",{"type":24,"tag":33,"props":117,"children":118},{},[119,121,128,130,137],{"type":30,"value":120},"I initially considered using a canvas to refactor everything and render a custom marker with an overlay, as it seemed like a more performant solution. However, since I’m not familiar with the approach, implementing it would take me several days or even weeks and considering a time constraint for the deadline I needed other approach. After further research, I came across an old video and blog from Redfin where they explained how they developed their own custom marker solution. You can see the ",{"type":24,"tag":70,"props":122,"children":125},{"href":123,"rel":124},"https://redfin.engineering/introducing-multimarker-the-fastest-way-to-add-many-hundreds-or-thousands-of-markers-on-google-maps-3b2b757177e5",[74],[126],{"type":30,"value":127},"blog here",{"type":30,"value":129}," and the ",{"type":24,"tag":70,"props":131,"children":134},{"href":132,"rel":133},"https://www.youtube.com/watch?v=zI8at1EmJjA",[74],[135],{"type":30,"value":136},"youtube video on this link",{"type":30,"value":138},". This gave me an idea on how to implement this.",{"type":24,"tag":33,"props":140,"children":141},{},[142,144,149],{"type":30,"value":143},"The gist of this is that you need to create a custom overlay which will be used to render your own custom marker. Here is a snippet of the code that I did. ",{"type":24,"tag":81,"props":145,"children":146},{},[147],{"type":30,"value":148},"Note:",{"type":30,"value":150}," This is not the full code of the custom marker and there are still a lot of handling and optimization that I did. You can check the google maps documentation for the custom marker overlay for more info. Take note when updating the position of the marker use translate since its more performant than setting the top and left of the marker.",{"type":24,"tag":152,"props":153,"children":156},"pre",{"className":154,"code":155,"language":15,"meta":5,"style":5},"language-js shiki shiki-themes github-dark","class CustomMarker {\n\n    draw(): void {\n        if (! this._div) return //Return if div has already been removed\n        this.updateMarkerPosition()\n    }\n\n    onAdd(): void {\n        this._map = this.getMap() as google.maps.Map\n\n        this._div = document.createElement('div');\n        this._div!.style.position = 'absolute';\n        this._div!.style.zIndex = '5';\n        this._div!.style.width = '100%';\n        this._div!.style.height = '100%';\n\n        const panes = this.getPanes();\n        panes?.overlayMouseTarget.appendChild(this._div);\n\n        this._lhInfoWindow.setMap(this._map)\n    }\n\n    generateMarkers() {\n      if (! this._div) return\n\n      const overlayProjection = this.getProjection()\n      if (! overlayProjection) return\n\n      const markerInnerHTML: string[] = []\n\n      let totalMarkers = this._markers.length\n      // //Random marker price to show\n      const zoom = this._map?.getZoom()\n      if (! zoom) return\n\n      const offsetMarkerHeight = this.getMarkerOffsetY(zoom)\n\n      while(totalMarkers--) {\n        //get current marker\n        const currentMarker = this._markers[totalMarkers]\n        const divPixel = overlayProjection.fromLatLngToDivPixel({\n          lat: +currentMarker.attributes.lat!,\n          lng: +currentMarker.attributes.lng!\n        })\n\n        const position = {\n          x: divPixel?.x! - 15,\n          y: divPixel?.y! - offsetMarkerHeight\n        }\n\n        if (currentMarker.type === 'lot') {\n          markerInnerHTML.push(generateLotMarker(currentMarker, position))\n        } else {\n          markerInnerHTML.push(generateCompMarker(currentMarker, position))\n        }\n      }\n\n      this._div!.innerHTML = markerInnerHTML.join('')\n      this._divMarkers = this._div?.children\n    }\n}\n",[157],{"type":24,"tag":158,"props":159,"children":160},"code",{"__ignoreMap":5},[161,185,195,224,264,288,297,305,330,394,402,445,481,515,549,582,590,627,655,663,694,702,710,724,754,762,797,822,830,866,874,906,915,950,975,983,1018,1026,1050,1059,1085,1117,1145,1168,1177,1185,1206,1233,1255,1264,1272,1299,1327,1345,1370,1378,1387,1395,1445,1471,1479],{"type":24,"tag":162,"props":163,"children":166},"span",{"class":164,"line":165},"line",1,[167,173,179],{"type":24,"tag":162,"props":168,"children":170},{"style":169},"--shiki-default:#F97583",[171],{"type":30,"value":172},"class",{"type":24,"tag":162,"props":174,"children":176},{"style":175},"--shiki-default:#B392F0",[177],{"type":30,"value":178}," CustomMarker",{"type":24,"tag":162,"props":180,"children":182},{"style":181},"--shiki-default:#E1E4E8",[183],{"type":30,"value":184}," {\n",{"type":24,"tag":162,"props":186,"children":188},{"class":164,"line":187},2,[189],{"type":24,"tag":162,"props":190,"children":192},{"emptyLinePlaceholder":191},true,[193],{"type":30,"value":194},"\n",{"type":24,"tag":162,"props":196,"children":198},{"class":164,"line":197},3,[199,204,209,214,220],{"type":24,"tag":162,"props":200,"children":201},{"style":175},[202],{"type":30,"value":203},"    draw",{"type":24,"tag":162,"props":205,"children":206},{"style":181},[207],{"type":30,"value":208},"()",{"type":24,"tag":162,"props":210,"children":211},{"style":169},[212],{"type":30,"value":213},":",{"type":24,"tag":162,"props":215,"children":217},{"style":216},"--shiki-default:#79B8FF",[218],{"type":30,"value":219}," void",{"type":24,"tag":162,"props":221,"children":222},{"style":181},[223],{"type":30,"value":184},{"type":24,"tag":162,"props":225,"children":227},{"class":164,"line":226},4,[228,233,238,243,248,253,258],{"type":24,"tag":162,"props":229,"children":230},{"style":169},[231],{"type":30,"value":232},"        if",{"type":24,"tag":162,"props":234,"children":235},{"style":181},[236],{"type":30,"value":237}," (",{"type":24,"tag":162,"props":239,"children":240},{"style":169},[241],{"type":30,"value":242},"!",{"type":24,"tag":162,"props":244,"children":245},{"style":216},[246],{"type":30,"value":247}," this",{"type":24,"tag":162,"props":249,"children":250},{"style":181},[251],{"type":30,"value":252},"._div) ",{"type":24,"tag":162,"props":254,"children":255},{"style":169},[256],{"type":30,"value":257},"return",{"type":24,"tag":162,"props":259,"children":261},{"style":260},"--shiki-default:#6A737D",[262],{"type":30,"value":263}," //Return if div has already been removed\n",{"type":24,"tag":162,"props":265,"children":267},{"class":164,"line":266},5,[268,273,278,283],{"type":24,"tag":162,"props":269,"children":270},{"style":216},[271],{"type":30,"value":272},"        this",{"type":24,"tag":162,"props":274,"children":275},{"style":181},[276],{"type":30,"value":277},".",{"type":24,"tag":162,"props":279,"children":280},{"style":175},[281],{"type":30,"value":282},"updateMarkerPosition",{"type":24,"tag":162,"props":284,"children":285},{"style":181},[286],{"type":30,"value":287},"()\n",{"type":24,"tag":162,"props":289,"children":291},{"class":164,"line":290},6,[292],{"type":24,"tag":162,"props":293,"children":294},{"style":181},[295],{"type":30,"value":296},"    }\n",{"type":24,"tag":162,"props":298,"children":300},{"class":164,"line":299},7,[301],{"type":24,"tag":162,"props":302,"children":303},{"emptyLinePlaceholder":191},[304],{"type":30,"value":194},{"type":24,"tag":162,"props":306,"children":308},{"class":164,"line":307},8,[309,314,318,322,326],{"type":24,"tag":162,"props":310,"children":311},{"style":175},[312],{"type":30,"value":313},"    onAdd",{"type":24,"tag":162,"props":315,"children":316},{"style":181},[317],{"type":30,"value":208},{"type":24,"tag":162,"props":319,"children":320},{"style":169},[321],{"type":30,"value":213},{"type":24,"tag":162,"props":323,"children":324},{"style":216},[325],{"type":30,"value":219},{"type":24,"tag":162,"props":327,"children":328},{"style":181},[329],{"type":30,"value":184},{"type":24,"tag":162,"props":331,"children":333},{"class":164,"line":332},9,[334,338,343,348,352,356,361,366,371,376,380,385,389],{"type":24,"tag":162,"props":335,"children":336},{"style":216},[337],{"type":30,"value":272},{"type":24,"tag":162,"props":339,"children":340},{"style":181},[341],{"type":30,"value":342},"._map ",{"type":24,"tag":162,"props":344,"children":345},{"style":169},[346],{"type":30,"value":347},"=",{"type":24,"tag":162,"props":349,"children":350},{"style":216},[351],{"type":30,"value":247},{"type":24,"tag":162,"props":353,"children":354},{"style":181},[355],{"type":30,"value":277},{"type":24,"tag":162,"props":357,"children":358},{"style":175},[359],{"type":30,"value":360},"getMap",{"type":24,"tag":162,"props":362,"children":363},{"style":181},[364],{"type":30,"value":365},"() ",{"type":24,"tag":162,"props":367,"children":368},{"style":169},[369],{"type":30,"value":370},"as",{"type":24,"tag":162,"props":372,"children":373},{"style":175},[374],{"type":30,"value":375}," google",{"type":24,"tag":162,"props":377,"children":378},{"style":181},[379],{"type":30,"value":277},{"type":24,"tag":162,"props":381,"children":382},{"style":175},[383],{"type":30,"value":384},"maps",{"type":24,"tag":162,"props":386,"children":387},{"style":181},[388],{"type":30,"value":277},{"type":24,"tag":162,"props":390,"children":391},{"style":175},[392],{"type":30,"value":393},"Map\n",{"type":24,"tag":162,"props":395,"children":397},{"class":164,"line":396},10,[398],{"type":24,"tag":162,"props":399,"children":400},{"emptyLinePlaceholder":191},[401],{"type":30,"value":194},{"type":24,"tag":162,"props":403,"children":405},{"class":164,"line":404},11,[406,410,415,419,424,429,434,440],{"type":24,"tag":162,"props":407,"children":408},{"style":216},[409],{"type":30,"value":272},{"type":24,"tag":162,"props":411,"children":412},{"style":181},[413],{"type":30,"value":414},"._div ",{"type":24,"tag":162,"props":416,"children":417},{"style":169},[418],{"type":30,"value":347},{"type":24,"tag":162,"props":420,"children":421},{"style":181},[422],{"type":30,"value":423}," document.",{"type":24,"tag":162,"props":425,"children":426},{"style":175},[427],{"type":30,"value":428},"createElement",{"type":24,"tag":162,"props":430,"children":431},{"style":181},[432],{"type":30,"value":433},"(",{"type":24,"tag":162,"props":435,"children":437},{"style":436},"--shiki-default:#9ECBFF",[438],{"type":30,"value":439},"'div'",{"type":24,"tag":162,"props":441,"children":442},{"style":181},[443],{"type":30,"value":444},");\n",{"type":24,"tag":162,"props":446,"children":448},{"class":164,"line":447},12,[449,453,458,462,467,471,476],{"type":24,"tag":162,"props":450,"children":451},{"style":216},[452],{"type":30,"value":272},{"type":24,"tag":162,"props":454,"children":455},{"style":181},[456],{"type":30,"value":457},"._div",{"type":24,"tag":162,"props":459,"children":460},{"style":169},[461],{"type":30,"value":242},{"type":24,"tag":162,"props":463,"children":464},{"style":181},[465],{"type":30,"value":466},".style.position ",{"type":24,"tag":162,"props":468,"children":469},{"style":169},[470],{"type":30,"value":347},{"type":24,"tag":162,"props":472,"children":473},{"style":436},[474],{"type":30,"value":475}," 'absolute'",{"type":24,"tag":162,"props":477,"children":478},{"style":181},[479],{"type":30,"value":480},";\n",{"type":24,"tag":162,"props":482,"children":484},{"class":164,"line":483},13,[485,489,493,497,502,506,511],{"type":24,"tag":162,"props":486,"children":487},{"style":216},[488],{"type":30,"value":272},{"type":24,"tag":162,"props":490,"children":491},{"style":181},[492],{"type":30,"value":457},{"type":24,"tag":162,"props":494,"children":495},{"style":169},[496],{"type":30,"value":242},{"type":24,"tag":162,"props":498,"children":499},{"style":181},[500],{"type":30,"value":501},".style.zIndex ",{"type":24,"tag":162,"props":503,"children":504},{"style":169},[505],{"type":30,"value":347},{"type":24,"tag":162,"props":507,"children":508},{"style":436},[509],{"type":30,"value":510}," '5'",{"type":24,"tag":162,"props":512,"children":513},{"style":181},[514],{"type":30,"value":480},{"type":24,"tag":162,"props":516,"children":518},{"class":164,"line":517},14,[519,523,527,531,536,540,545],{"type":24,"tag":162,"props":520,"children":521},{"style":216},[522],{"type":30,"value":272},{"type":24,"tag":162,"props":524,"children":525},{"style":181},[526],{"type":30,"value":457},{"type":24,"tag":162,"props":528,"children":529},{"style":169},[530],{"type":30,"value":242},{"type":24,"tag":162,"props":532,"children":533},{"style":181},[534],{"type":30,"value":535},".style.width ",{"type":24,"tag":162,"props":537,"children":538},{"style":169},[539],{"type":30,"value":347},{"type":24,"tag":162,"props":541,"children":542},{"style":436},[543],{"type":30,"value":544}," '100%'",{"type":24,"tag":162,"props":546,"children":547},{"style":181},[548],{"type":30,"value":480},{"type":24,"tag":162,"props":550,"children":552},{"class":164,"line":551},15,[553,557,561,565,570,574,578],{"type":24,"tag":162,"props":554,"children":555},{"style":216},[556],{"type":30,"value":272},{"type":24,"tag":162,"props":558,"children":559},{"style":181},[560],{"type":30,"value":457},{"type":24,"tag":162,"props":562,"children":563},{"style":169},[564],{"type":30,"value":242},{"type":24,"tag":162,"props":566,"children":567},{"style":181},[568],{"type":30,"value":569},".style.height ",{"type":24,"tag":162,"props":571,"children":572},{"style":169},[573],{"type":30,"value":347},{"type":24,"tag":162,"props":575,"children":576},{"style":436},[577],{"type":30,"value":544},{"type":24,"tag":162,"props":579,"children":580},{"style":181},[581],{"type":30,"value":480},{"type":24,"tag":162,"props":583,"children":585},{"class":164,"line":584},16,[586],{"type":24,"tag":162,"props":587,"children":588},{"emptyLinePlaceholder":191},[589],{"type":30,"value":194},{"type":24,"tag":162,"props":591,"children":593},{"class":164,"line":592},17,[594,599,604,609,613,617,622],{"type":24,"tag":162,"props":595,"children":596},{"style":169},[597],{"type":30,"value":598},"        const",{"type":24,"tag":162,"props":600,"children":601},{"style":216},[602],{"type":30,"value":603}," panes",{"type":24,"tag":162,"props":605,"children":606},{"style":169},[607],{"type":30,"value":608}," =",{"type":24,"tag":162,"props":610,"children":611},{"style":216},[612],{"type":30,"value":247},{"type":24,"tag":162,"props":614,"children":615},{"style":181},[616],{"type":30,"value":277},{"type":24,"tag":162,"props":618,"children":619},{"style":175},[620],{"type":30,"value":621},"getPanes",{"type":24,"tag":162,"props":623,"children":624},{"style":181},[625],{"type":30,"value":626},"();\n",{"type":24,"tag":162,"props":628,"children":630},{"class":164,"line":629},18,[631,636,641,645,650],{"type":24,"tag":162,"props":632,"children":633},{"style":181},[634],{"type":30,"value":635},"        panes?.overlayMouseTarget.",{"type":24,"tag":162,"props":637,"children":638},{"style":175},[639],{"type":30,"value":640},"appendChild",{"type":24,"tag":162,"props":642,"children":643},{"style":181},[644],{"type":30,"value":433},{"type":24,"tag":162,"props":646,"children":647},{"style":216},[648],{"type":30,"value":649},"this",{"type":24,"tag":162,"props":651,"children":652},{"style":181},[653],{"type":30,"value":654},"._div);\n",{"type":24,"tag":162,"props":656,"children":658},{"class":164,"line":657},19,[659],{"type":24,"tag":162,"props":660,"children":661},{"emptyLinePlaceholder":191},[662],{"type":30,"value":194},{"type":24,"tag":162,"props":664,"children":666},{"class":164,"line":665},20,[667,671,676,681,685,689],{"type":24,"tag":162,"props":668,"children":669},{"style":216},[670],{"type":30,"value":272},{"type":24,"tag":162,"props":672,"children":673},{"style":181},[674],{"type":30,"value":675},"._lhInfoWindow.",{"type":24,"tag":162,"props":677,"children":678},{"style":175},[679],{"type":30,"value":680},"setMap",{"type":24,"tag":162,"props":682,"children":683},{"style":181},[684],{"type":30,"value":433},{"type":24,"tag":162,"props":686,"children":687},{"style":216},[688],{"type":30,"value":649},{"type":24,"tag":162,"props":690,"children":691},{"style":181},[692],{"type":30,"value":693},"._map)\n",{"type":24,"tag":162,"props":695,"children":697},{"class":164,"line":696},21,[698],{"type":24,"tag":162,"props":699,"children":700},{"style":181},[701],{"type":30,"value":296},{"type":24,"tag":162,"props":703,"children":705},{"class":164,"line":704},22,[706],{"type":24,"tag":162,"props":707,"children":708},{"emptyLinePlaceholder":191},[709],{"type":30,"value":194},{"type":24,"tag":162,"props":711,"children":713},{"class":164,"line":712},23,[714,719],{"type":24,"tag":162,"props":715,"children":716},{"style":175},[717],{"type":30,"value":718},"    generateMarkers",{"type":24,"tag":162,"props":720,"children":721},{"style":181},[722],{"type":30,"value":723},"() {\n",{"type":24,"tag":162,"props":725,"children":727},{"class":164,"line":726},24,[728,733,737,741,745,749],{"type":24,"tag":162,"props":729,"children":730},{"style":169},[731],{"type":30,"value":732},"      if",{"type":24,"tag":162,"props":734,"children":735},{"style":181},[736],{"type":30,"value":237},{"type":24,"tag":162,"props":738,"children":739},{"style":169},[740],{"type":30,"value":242},{"type":24,"tag":162,"props":742,"children":743},{"style":216},[744],{"type":30,"value":247},{"type":24,"tag":162,"props":746,"children":747},{"style":181},[748],{"type":30,"value":252},{"type":24,"tag":162,"props":750,"children":751},{"style":169},[752],{"type":30,"value":753},"return\n",{"type":24,"tag":162,"props":755,"children":757},{"class":164,"line":756},25,[758],{"type":24,"tag":162,"props":759,"children":760},{"emptyLinePlaceholder":191},[761],{"type":30,"value":194},{"type":24,"tag":162,"props":763,"children":765},{"class":164,"line":764},26,[766,771,776,780,784,788,793],{"type":24,"tag":162,"props":767,"children":768},{"style":169},[769],{"type":30,"value":770},"      const",{"type":24,"tag":162,"props":772,"children":773},{"style":216},[774],{"type":30,"value":775}," overlayProjection",{"type":24,"tag":162,"props":777,"children":778},{"style":169},[779],{"type":30,"value":608},{"type":24,"tag":162,"props":781,"children":782},{"style":216},[783],{"type":30,"value":247},{"type":24,"tag":162,"props":785,"children":786},{"style":181},[787],{"type":30,"value":277},{"type":24,"tag":162,"props":789,"children":790},{"style":175},[791],{"type":30,"value":792},"getProjection",{"type":24,"tag":162,"props":794,"children":795},{"style":181},[796],{"type":30,"value":287},{"type":24,"tag":162,"props":798,"children":800},{"class":164,"line":799},27,[801,805,809,813,818],{"type":24,"tag":162,"props":802,"children":803},{"style":169},[804],{"type":30,"value":732},{"type":24,"tag":162,"props":806,"children":807},{"style":181},[808],{"type":30,"value":237},{"type":24,"tag":162,"props":810,"children":811},{"style":169},[812],{"type":30,"value":242},{"type":24,"tag":162,"props":814,"children":815},{"style":181},[816],{"type":30,"value":817}," overlayProjection) ",{"type":24,"tag":162,"props":819,"children":820},{"style":169},[821],{"type":30,"value":753},{"type":24,"tag":162,"props":823,"children":825},{"class":164,"line":824},28,[826],{"type":24,"tag":162,"props":827,"children":828},{"emptyLinePlaceholder":191},[829],{"type":30,"value":194},{"type":24,"tag":162,"props":831,"children":833},{"class":164,"line":832},29,[834,838,843,847,852,857,861],{"type":24,"tag":162,"props":835,"children":836},{"style":169},[837],{"type":30,"value":770},{"type":24,"tag":162,"props":839,"children":840},{"style":216},[841],{"type":30,"value":842}," markerInnerHTML",{"type":24,"tag":162,"props":844,"children":845},{"style":169},[846],{"type":30,"value":213},{"type":24,"tag":162,"props":848,"children":849},{"style":216},[850],{"type":30,"value":851}," string",{"type":24,"tag":162,"props":853,"children":854},{"style":181},[855],{"type":30,"value":856},"[] ",{"type":24,"tag":162,"props":858,"children":859},{"style":169},[860],{"type":30,"value":347},{"type":24,"tag":162,"props":862,"children":863},{"style":181},[864],{"type":30,"value":865}," []\n",{"type":24,"tag":162,"props":867,"children":869},{"class":164,"line":868},30,[870],{"type":24,"tag":162,"props":871,"children":872},{"emptyLinePlaceholder":191},[873],{"type":30,"value":194},{"type":24,"tag":162,"props":875,"children":877},{"class":164,"line":876},31,[878,883,888,892,896,901],{"type":24,"tag":162,"props":879,"children":880},{"style":169},[881],{"type":30,"value":882},"      let",{"type":24,"tag":162,"props":884,"children":885},{"style":181},[886],{"type":30,"value":887}," totalMarkers ",{"type":24,"tag":162,"props":889,"children":890},{"style":169},[891],{"type":30,"value":347},{"type":24,"tag":162,"props":893,"children":894},{"style":216},[895],{"type":30,"value":247},{"type":24,"tag":162,"props":897,"children":898},{"style":181},[899],{"type":30,"value":900},"._markers.",{"type":24,"tag":162,"props":902,"children":903},{"style":216},[904],{"type":30,"value":905},"length\n",{"type":24,"tag":162,"props":907,"children":909},{"class":164,"line":908},32,[910],{"type":24,"tag":162,"props":911,"children":912},{"style":260},[913],{"type":30,"value":914},"      // //Random marker price to show\n",{"type":24,"tag":162,"props":916,"children":918},{"class":164,"line":917},33,[919,923,928,932,936,941,946],{"type":24,"tag":162,"props":920,"children":921},{"style":169},[922],{"type":30,"value":770},{"type":24,"tag":162,"props":924,"children":925},{"style":216},[926],{"type":30,"value":927}," zoom",{"type":24,"tag":162,"props":929,"children":930},{"style":169},[931],{"type":30,"value":608},{"type":24,"tag":162,"props":933,"children":934},{"style":216},[935],{"type":30,"value":247},{"type":24,"tag":162,"props":937,"children":938},{"style":181},[939],{"type":30,"value":940},"._map?.",{"type":24,"tag":162,"props":942,"children":943},{"style":175},[944],{"type":30,"value":945},"getZoom",{"type":24,"tag":162,"props":947,"children":948},{"style":181},[949],{"type":30,"value":287},{"type":24,"tag":162,"props":951,"children":953},{"class":164,"line":952},34,[954,958,962,966,971],{"type":24,"tag":162,"props":955,"children":956},{"style":169},[957],{"type":30,"value":732},{"type":24,"tag":162,"props":959,"children":960},{"style":181},[961],{"type":30,"value":237},{"type":24,"tag":162,"props":963,"children":964},{"style":169},[965],{"type":30,"value":242},{"type":24,"tag":162,"props":967,"children":968},{"style":181},[969],{"type":30,"value":970}," zoom) ",{"type":24,"tag":162,"props":972,"children":973},{"style":169},[974],{"type":30,"value":753},{"type":24,"tag":162,"props":976,"children":978},{"class":164,"line":977},35,[979],{"type":24,"tag":162,"props":980,"children":981},{"emptyLinePlaceholder":191},[982],{"type":30,"value":194},{"type":24,"tag":162,"props":984,"children":986},{"class":164,"line":985},36,[987,991,996,1000,1004,1008,1013],{"type":24,"tag":162,"props":988,"children":989},{"style":169},[990],{"type":30,"value":770},{"type":24,"tag":162,"props":992,"children":993},{"style":216},[994],{"type":30,"value":995}," offsetMarkerHeight",{"type":24,"tag":162,"props":997,"children":998},{"style":169},[999],{"type":30,"value":608},{"type":24,"tag":162,"props":1001,"children":1002},{"style":216},[1003],{"type":30,"value":247},{"type":24,"tag":162,"props":1005,"children":1006},{"style":181},[1007],{"type":30,"value":277},{"type":24,"tag":162,"props":1009,"children":1010},{"style":175},[1011],{"type":30,"value":1012},"getMarkerOffsetY",{"type":24,"tag":162,"props":1014,"children":1015},{"style":181},[1016],{"type":30,"value":1017},"(zoom)\n",{"type":24,"tag":162,"props":1019,"children":1021},{"class":164,"line":1020},37,[1022],{"type":24,"tag":162,"props":1023,"children":1024},{"emptyLinePlaceholder":191},[1025],{"type":30,"value":194},{"type":24,"tag":162,"props":1027,"children":1029},{"class":164,"line":1028},38,[1030,1035,1040,1045],{"type":24,"tag":162,"props":1031,"children":1032},{"style":169},[1033],{"type":30,"value":1034},"      while",{"type":24,"tag":162,"props":1036,"children":1037},{"style":181},[1038],{"type":30,"value":1039},"(totalMarkers",{"type":24,"tag":162,"props":1041,"children":1042},{"style":169},[1043],{"type":30,"value":1044},"--",{"type":24,"tag":162,"props":1046,"children":1047},{"style":181},[1048],{"type":30,"value":1049},") {\n",{"type":24,"tag":162,"props":1051,"children":1053},{"class":164,"line":1052},39,[1054],{"type":24,"tag":162,"props":1055,"children":1056},{"style":260},[1057],{"type":30,"value":1058},"        //get current marker\n",{"type":24,"tag":162,"props":1060,"children":1062},{"class":164,"line":1061},40,[1063,1067,1072,1076,1080],{"type":24,"tag":162,"props":1064,"children":1065},{"style":169},[1066],{"type":30,"value":598},{"type":24,"tag":162,"props":1068,"children":1069},{"style":216},[1070],{"type":30,"value":1071}," currentMarker",{"type":24,"tag":162,"props":1073,"children":1074},{"style":169},[1075],{"type":30,"value":608},{"type":24,"tag":162,"props":1077,"children":1078},{"style":216},[1079],{"type":30,"value":247},{"type":24,"tag":162,"props":1081,"children":1082},{"style":181},[1083],{"type":30,"value":1084},"._markers[totalMarkers]\n",{"type":24,"tag":162,"props":1086,"children":1088},{"class":164,"line":1087},41,[1089,1093,1098,1102,1107,1112],{"type":24,"tag":162,"props":1090,"children":1091},{"style":169},[1092],{"type":30,"value":598},{"type":24,"tag":162,"props":1094,"children":1095},{"style":216},[1096],{"type":30,"value":1097}," divPixel",{"type":24,"tag":162,"props":1099,"children":1100},{"style":169},[1101],{"type":30,"value":608},{"type":24,"tag":162,"props":1103,"children":1104},{"style":181},[1105],{"type":30,"value":1106}," overlayProjection.",{"type":24,"tag":162,"props":1108,"children":1109},{"style":175},[1110],{"type":30,"value":1111},"fromLatLngToDivPixel",{"type":24,"tag":162,"props":1113,"children":1114},{"style":181},[1115],{"type":30,"value":1116},"({\n",{"type":24,"tag":162,"props":1118,"children":1120},{"class":164,"line":1119},42,[1121,1126,1131,1136,1140],{"type":24,"tag":162,"props":1122,"children":1123},{"style":181},[1124],{"type":30,"value":1125},"          lat: ",{"type":24,"tag":162,"props":1127,"children":1128},{"style":169},[1129],{"type":30,"value":1130},"+",{"type":24,"tag":162,"props":1132,"children":1133},{"style":181},[1134],{"type":30,"value":1135},"currentMarker.attributes.lat",{"type":24,"tag":162,"props":1137,"children":1138},{"style":169},[1139],{"type":30,"value":242},{"type":24,"tag":162,"props":1141,"children":1142},{"style":181},[1143],{"type":30,"value":1144},",\n",{"type":24,"tag":162,"props":1146,"children":1148},{"class":164,"line":1147},43,[1149,1154,1158,1163],{"type":24,"tag":162,"props":1150,"children":1151},{"style":181},[1152],{"type":30,"value":1153},"          lng: ",{"type":24,"tag":162,"props":1155,"children":1156},{"style":169},[1157],{"type":30,"value":1130},{"type":24,"tag":162,"props":1159,"children":1160},{"style":181},[1161],{"type":30,"value":1162},"currentMarker.attributes.lng",{"type":24,"tag":162,"props":1164,"children":1165},{"style":169},[1166],{"type":30,"value":1167},"!\n",{"type":24,"tag":162,"props":1169,"children":1171},{"class":164,"line":1170},44,[1172],{"type":24,"tag":162,"props":1173,"children":1174},{"style":181},[1175],{"type":30,"value":1176},"        })\n",{"type":24,"tag":162,"props":1178,"children":1180},{"class":164,"line":1179},45,[1181],{"type":24,"tag":162,"props":1182,"children":1183},{"emptyLinePlaceholder":191},[1184],{"type":30,"value":194},{"type":24,"tag":162,"props":1186,"children":1188},{"class":164,"line":1187},46,[1189,1193,1198,1202],{"type":24,"tag":162,"props":1190,"children":1191},{"style":169},[1192],{"type":30,"value":598},{"type":24,"tag":162,"props":1194,"children":1195},{"style":216},[1196],{"type":30,"value":1197}," position",{"type":24,"tag":162,"props":1199,"children":1200},{"style":169},[1201],{"type":30,"value":608},{"type":24,"tag":162,"props":1203,"children":1204},{"style":181},[1205],{"type":30,"value":184},{"type":24,"tag":162,"props":1207,"children":1209},{"class":164,"line":1208},47,[1210,1215,1219,1224,1229],{"type":24,"tag":162,"props":1211,"children":1212},{"style":181},[1213],{"type":30,"value":1214},"          x: divPixel?.x",{"type":24,"tag":162,"props":1216,"children":1217},{"style":169},[1218],{"type":30,"value":242},{"type":24,"tag":162,"props":1220,"children":1221},{"style":169},[1222],{"type":30,"value":1223}," -",{"type":24,"tag":162,"props":1225,"children":1226},{"style":216},[1227],{"type":30,"value":1228}," 15",{"type":24,"tag":162,"props":1230,"children":1231},{"style":181},[1232],{"type":30,"value":1144},{"type":24,"tag":162,"props":1234,"children":1236},{"class":164,"line":1235},48,[1237,1242,1246,1250],{"type":24,"tag":162,"props":1238,"children":1239},{"style":181},[1240],{"type":30,"value":1241},"          y: divPixel?.y",{"type":24,"tag":162,"props":1243,"children":1244},{"style":169},[1245],{"type":30,"value":242},{"type":24,"tag":162,"props":1247,"children":1248},{"style":169},[1249],{"type":30,"value":1223},{"type":24,"tag":162,"props":1251,"children":1252},{"style":181},[1253],{"type":30,"value":1254}," offsetMarkerHeight\n",{"type":24,"tag":162,"props":1256,"children":1258},{"class":164,"line":1257},49,[1259],{"type":24,"tag":162,"props":1260,"children":1261},{"style":181},[1262],{"type":30,"value":1263},"        }\n",{"type":24,"tag":162,"props":1265,"children":1267},{"class":164,"line":1266},50,[1268],{"type":24,"tag":162,"props":1269,"children":1270},{"emptyLinePlaceholder":191},[1271],{"type":30,"value":194},{"type":24,"tag":162,"props":1273,"children":1275},{"class":164,"line":1274},51,[1276,1280,1285,1290,1295],{"type":24,"tag":162,"props":1277,"children":1278},{"style":169},[1279],{"type":30,"value":232},{"type":24,"tag":162,"props":1281,"children":1282},{"style":181},[1283],{"type":30,"value":1284}," (currentMarker.type ",{"type":24,"tag":162,"props":1286,"children":1287},{"style":169},[1288],{"type":30,"value":1289},"===",{"type":24,"tag":162,"props":1291,"children":1292},{"style":436},[1293],{"type":30,"value":1294}," 'lot'",{"type":24,"tag":162,"props":1296,"children":1297},{"style":181},[1298],{"type":30,"value":1049},{"type":24,"tag":162,"props":1300,"children":1302},{"class":164,"line":1301},52,[1303,1308,1313,1317,1322],{"type":24,"tag":162,"props":1304,"children":1305},{"style":181},[1306],{"type":30,"value":1307},"          markerInnerHTML.",{"type":24,"tag":162,"props":1309,"children":1310},{"style":175},[1311],{"type":30,"value":1312},"push",{"type":24,"tag":162,"props":1314,"children":1315},{"style":181},[1316],{"type":30,"value":433},{"type":24,"tag":162,"props":1318,"children":1319},{"style":175},[1320],{"type":30,"value":1321},"generateLotMarker",{"type":24,"tag":162,"props":1323,"children":1324},{"style":181},[1325],{"type":30,"value":1326},"(currentMarker, position))\n",{"type":24,"tag":162,"props":1328,"children":1330},{"class":164,"line":1329},53,[1331,1336,1341],{"type":24,"tag":162,"props":1332,"children":1333},{"style":181},[1334],{"type":30,"value":1335},"        } ",{"type":24,"tag":162,"props":1337,"children":1338},{"style":169},[1339],{"type":30,"value":1340},"else",{"type":24,"tag":162,"props":1342,"children":1343},{"style":181},[1344],{"type":30,"value":184},{"type":24,"tag":162,"props":1346,"children":1348},{"class":164,"line":1347},54,[1349,1353,1357,1361,1366],{"type":24,"tag":162,"props":1350,"children":1351},{"style":181},[1352],{"type":30,"value":1307},{"type":24,"tag":162,"props":1354,"children":1355},{"style":175},[1356],{"type":30,"value":1312},{"type":24,"tag":162,"props":1358,"children":1359},{"style":181},[1360],{"type":30,"value":433},{"type":24,"tag":162,"props":1362,"children":1363},{"style":175},[1364],{"type":30,"value":1365},"generateCompMarker",{"type":24,"tag":162,"props":1367,"children":1368},{"style":181},[1369],{"type":30,"value":1326},{"type":24,"tag":162,"props":1371,"children":1373},{"class":164,"line":1372},55,[1374],{"type":24,"tag":162,"props":1375,"children":1376},{"style":181},[1377],{"type":30,"value":1263},{"type":24,"tag":162,"props":1379,"children":1381},{"class":164,"line":1380},56,[1382],{"type":24,"tag":162,"props":1383,"children":1384},{"style":181},[1385],{"type":30,"value":1386},"      }\n",{"type":24,"tag":162,"props":1388,"children":1390},{"class":164,"line":1389},57,[1391],{"type":24,"tag":162,"props":1392,"children":1393},{"emptyLinePlaceholder":191},[1394],{"type":30,"value":194},{"type":24,"tag":162,"props":1396,"children":1398},{"class":164,"line":1397},58,[1399,1404,1408,1412,1417,1421,1426,1431,1435,1440],{"type":24,"tag":162,"props":1400,"children":1401},{"style":216},[1402],{"type":30,"value":1403},"      this",{"type":24,"tag":162,"props":1405,"children":1406},{"style":181},[1407],{"type":30,"value":457},{"type":24,"tag":162,"props":1409,"children":1410},{"style":169},[1411],{"type":30,"value":242},{"type":24,"tag":162,"props":1413,"children":1414},{"style":181},[1415],{"type":30,"value":1416},".innerHTML ",{"type":24,"tag":162,"props":1418,"children":1419},{"style":169},[1420],{"type":30,"value":347},{"type":24,"tag":162,"props":1422,"children":1423},{"style":181},[1424],{"type":30,"value":1425}," markerInnerHTML.",{"type":24,"tag":162,"props":1427,"children":1428},{"style":175},[1429],{"type":30,"value":1430},"join",{"type":24,"tag":162,"props":1432,"children":1433},{"style":181},[1434],{"type":30,"value":433},{"type":24,"tag":162,"props":1436,"children":1437},{"style":436},[1438],{"type":30,"value":1439},"''",{"type":24,"tag":162,"props":1441,"children":1442},{"style":181},[1443],{"type":30,"value":1444},")\n",{"type":24,"tag":162,"props":1446,"children":1448},{"class":164,"line":1447},59,[1449,1453,1458,1462,1466],{"type":24,"tag":162,"props":1450,"children":1451},{"style":216},[1452],{"type":30,"value":1403},{"type":24,"tag":162,"props":1454,"children":1455},{"style":181},[1456],{"type":30,"value":1457},"._divMarkers ",{"type":24,"tag":162,"props":1459,"children":1460},{"style":169},[1461],{"type":30,"value":347},{"type":24,"tag":162,"props":1463,"children":1464},{"style":216},[1465],{"type":30,"value":247},{"type":24,"tag":162,"props":1467,"children":1468},{"style":181},[1469],{"type":30,"value":1470},"._div?.children\n",{"type":24,"tag":162,"props":1472,"children":1474},{"class":164,"line":1473},60,[1475],{"type":24,"tag":162,"props":1476,"children":1477},{"style":181},[1478],{"type":30,"value":296},{"type":24,"tag":162,"props":1480,"children":1482},{"class":164,"line":1481},61,[1483],{"type":24,"tag":162,"props":1484,"children":1485},{"style":181},[1486],{"type":30,"value":1487},"}\n",{"type":24,"tag":1489,"props":1490,"children":1491},"style",{},[1492],{"type":30,"value":1493},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":5,"searchDepth":187,"depth":187,"links":1495},[1496,1497,1498],{"id":27,"depth":197,"text":31},{"id":55,"depth":197,"text":58},{"id":112,"depth":197,"text":115},"markdown","content:03.vue-performant-google-map-marker.md","content","03.vue-performant-google-map-marker.md","03.vue-performant-google-map-marker","md",1735192466958]