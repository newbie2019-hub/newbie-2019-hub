[{"data":1,"prerenderedAt":1500},["ShallowReactive",2],{"content-query-3Bkes50yKJ":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":5,"title":7,"description":8,"date":9,"preview":10,"draft":6,"tags":11,"categories":17,"slug":19,"body":20,"_type":1494,"_id":1495,"_source":1496,"_file":1497,"_stem":1498,"_extension":1499},"/00-vue-performant-google-map-marker","",false,"VueJs - Thousand Performant Google Map Marker","Rendering thousands of custom google map marker without clustering","August 20, 2024","img/multi-marker.jpg",[12,13,14,15,16],"gmap","marker","vue","js","typescript",[18,13,14,16],"custom","performant-google-map-marker",{"type":21,"children":22,"toc":1489},"root",[23,32,38,43,48,54,59,83,88,97,105,111,134,146,1483],{"type":24,"tag":25,"props":26,"children":28},"element","h3",{"id":27},"vuejs-rendering-thousands-of-advanced-google-map-marker",[29],{"type":30,"value":31},"text","VueJS - Rendering Thousands of Advanced Google Map Marker",{"type":24,"tag":33,"props":34,"children":35},"p",{},[36],{"type":30,"value":37},"Rendering thousands of Google Map markers without clustering can be a challenging task, especially when prioritizing performance and visual clarity. By using a custom overlay instead of traditional markers provides greater flexibility in managing complex visual elements directly in the DOM.",{"type":24,"tag":33,"props":39,"children":40},{},[41],{"type":30,"value":42},"This approach enables precise control over marker rendering and interactions, making it ideal for scenarios where clustering is not feasible or desired, such as representing distinct data points that must remain individually visible.",{"type":24,"tag":33,"props":44,"children":45},{},[46],{"type":30,"value":47},"Let's go through the process and see how I manage to render thousands of google map marker.",{"type":24,"tag":25,"props":49,"children":51},{"id":50},"performance-problem",[52],{"type":30,"value":53},"Performance Problem",{"type":24,"tag":33,"props":55,"children":56},{},[57],{"type":30,"value":58},"Some users may want to view all markers on a map without using clustering for various reasons. However, rendering a large number of markers—say, 5,000 or more—on Google Maps can lead to significant performance issues, even during the initial load. Despite optimizations like using SVGs instead of images (as Google Maps optimizes them), setting marker sizes, and batch rendering, the initial render remains sluggish, and dragging the map feels unresponsive, resulting in a subpar user experience.",{"type":24,"tag":33,"props":60,"children":61},{},[62,64,73,75,81],{"type":30,"value":63},"At first, I thought there might be something wrong with my implementation. However, after extensive research, I came across an issue tracker related to rendering a large number of markers on Google Maps. You can find more details here: ",{"type":24,"tag":65,"props":66,"children":70},"a",{"href":67,"rel":68},"https://issuetracker.google.com/issues/333423690",[69],"nofollow",[71],{"type":30,"value":72},"Google Issue Tracker",{"type":30,"value":74},". After reviewing this, I’m assured that I’ve done everything possible to optimize the code, but the root cause ",{"type":24,"tag":76,"props":77,"children":78},"strong",{},[79],{"type":30,"value":80},"maybe",{"type":30,"value":82}," lies with the Google Maps marker itself.",{"type":24,"tag":33,"props":84,"children":85},{},[86],{"type":30,"value":87},"Some of the comments from the issue tracker.",{"type":24,"tag":89,"props":90,"children":91},"blockquote",{},[92],{"type":24,"tag":33,"props":93,"children":94},{},[95],{"type":30,"value":96},"Wait, google gave us AdvancedMarker, saying they are better in all aspects, but they can't even display 200 of them? Considering this, google should maybe keep both, marker and advancedmarker, alive. You could add to the docs that one should use normal marker if the number of them exceeds some amount.",{"type":24,"tag":89,"props":98,"children":99},{},[100],{"type":24,"tag":33,"props":101,"children":102},{},[103],{"type":30,"value":104},"with old markers, we allowed up to 1500 without clustering. With new ones i find 200-250 is equivalent in performance, 500 has some short freezes already and increased memory usage.\nCustom SVG/html - but overall the complex of these elements is equivalent to the default google markers - and i get similar performance drops with default markers.",{"type":24,"tag":25,"props":106,"children":108},{"id":107},"solution",[109],{"type":30,"value":110},"Solution",{"type":24,"tag":33,"props":112,"children":113},{},[114,116,123,125,132],{"type":30,"value":115},"I initially considered using a canvas to refactor everything and render a custom marker with an overlay, as it seemed like a more performant solution. However, since I’m not familiar with the approach, implementing it would take me several days or even weeks and considering a time constraint for the deadline I needed other approach. After further research, I came across an old video and blog from Redfin where they explained how they developed their own custom marker solution. You can see the ",{"type":24,"tag":65,"props":117,"children":120},{"href":118,"rel":119},"https://redfin.engineering/introducing-multimarker-the-fastest-way-to-add-many-hundreds-or-thousands-of-markers-on-google-maps-3b2b757177e5",[69],[121],{"type":30,"value":122},"blog here",{"type":30,"value":124}," and the ",{"type":24,"tag":65,"props":126,"children":129},{"href":127,"rel":128},"https://www.youtube.com/watch?v=zI8at1EmJjA",[69],[130],{"type":30,"value":131},"youtube video on this link",{"type":30,"value":133},". This gave me an idea on how to implement this.",{"type":24,"tag":33,"props":135,"children":136},{},[137,139,144],{"type":30,"value":138},"The gist of this is that you need to create a custom overlay which will be used to render your own custom marker. Here is a snippet of the code that I did. ",{"type":24,"tag":76,"props":140,"children":141},{},[142],{"type":30,"value":143},"Note:",{"type":30,"value":145}," This is not the full code of the custom marker and there are still a lot of handling and optimization that I did. You can check the google maps documentation for the custom markerlay for more info. Take not when updating the position of the marker use translate since its more performant than setting the top and left of the marker.",{"type":24,"tag":147,"props":148,"children":151},"pre",{"className":149,"code":150,"language":15,"meta":5,"style":5},"language-js shiki shiki-themes github-dark","class CustomMarker {\n\n    draw(): void {\n        if (! this._div) return //Return if div has already been removed\n        this.updateMarkerPosition()\n    }\n\n    onAdd(): void {\n        this._map = this.getMap() as google.maps.Map\n\n        this._div = document.createElement('div');\n        this._div!.style.position = 'absolute';\n        this._div!.style.zIndex = '5';\n        this._div!.style.width = '100%';\n        this._div!.style.height = '100%';\n\n        const panes = this.getPanes();\n        panes?.overlayMouseTarget.appendChild(this._div);\n\n        this._lhInfoWindow.setMap(this._map)\n    }\n\n    generateMarkers() {\n      if (! this._div) return\n\n      const overlayProjection = this.getProjection()\n      if (! overlayProjection) return\n\n      const markerInnerHTML: string[] = []\n\n      let totalMarkers = this._markers.length\n      // //Random marker price to show\n      const zoom = this._map?.getZoom()\n      if (! zoom) return\n\n      const offsetMarkerHeight = this.getMarkerOffsetY(zoom)\n\n      while(totalMarkers--) {\n        //get current marker\n        const currentMarker = this._markers[totalMarkers]\n        const divPixel = overlayProjection.fromLatLngToDivPixel({\n          lat: +currentMarker.attributes.lat!,\n          lng: +currentMarker.attributes.lng!\n        })\n\n        const position = {\n          x: divPixel?.x! - 15,\n          y: divPixel?.y! - offsetMarkerHeight\n        }\n\n        if (currentMarker.type === 'lot') {\n          markerInnerHTML.push(generateLotMarker(currentMarker, position))\n        } else {\n          markerInnerHTML.push(generateCompMarker(currentMarker, position))\n        }\n      }\n\n      this._div!.innerHTML = markerInnerHTML.join('')\n      this._divMarkers = this._div?.children\n    }\n}\n",[152],{"type":24,"tag":153,"props":154,"children":155},"code",{"__ignoreMap":5},[156,180,190,219,259,283,292,300,325,389,397,440,476,510,544,577,585,622,650,658,689,697,705,719,749,757,792,817,825,861,869,901,910,945,970,978,1013,1021,1045,1054,1080,1112,1140,1163,1172,1180,1201,1228,1250,1259,1267,1294,1322,1340,1365,1373,1382,1390,1440,1466,1474],{"type":24,"tag":157,"props":158,"children":161},"span",{"class":159,"line":160},"line",1,[162,168,174],{"type":24,"tag":157,"props":163,"children":165},{"style":164},"--shiki-default:#F97583",[166],{"type":30,"value":167},"class",{"type":24,"tag":157,"props":169,"children":171},{"style":170},"--shiki-default:#B392F0",[172],{"type":30,"value":173}," CustomMarker",{"type":24,"tag":157,"props":175,"children":177},{"style":176},"--shiki-default:#E1E4E8",[178],{"type":30,"value":179}," {\n",{"type":24,"tag":157,"props":181,"children":183},{"class":159,"line":182},2,[184],{"type":24,"tag":157,"props":185,"children":187},{"emptyLinePlaceholder":186},true,[188],{"type":30,"value":189},"\n",{"type":24,"tag":157,"props":191,"children":193},{"class":159,"line":192},3,[194,199,204,209,215],{"type":24,"tag":157,"props":195,"children":196},{"style":170},[197],{"type":30,"value":198},"    draw",{"type":24,"tag":157,"props":200,"children":201},{"style":176},[202],{"type":30,"value":203},"()",{"type":24,"tag":157,"props":205,"children":206},{"style":164},[207],{"type":30,"value":208},":",{"type":24,"tag":157,"props":210,"children":212},{"style":211},"--shiki-default:#79B8FF",[213],{"type":30,"value":214}," void",{"type":24,"tag":157,"props":216,"children":217},{"style":176},[218],{"type":30,"value":179},{"type":24,"tag":157,"props":220,"children":222},{"class":159,"line":221},4,[223,228,233,238,243,248,253],{"type":24,"tag":157,"props":224,"children":225},{"style":164},[226],{"type":30,"value":227},"        if",{"type":24,"tag":157,"props":229,"children":230},{"style":176},[231],{"type":30,"value":232}," (",{"type":24,"tag":157,"props":234,"children":235},{"style":164},[236],{"type":30,"value":237},"!",{"type":24,"tag":157,"props":239,"children":240},{"style":211},[241],{"type":30,"value":242}," this",{"type":24,"tag":157,"props":244,"children":245},{"style":176},[246],{"type":30,"value":247},"._div) ",{"type":24,"tag":157,"props":249,"children":250},{"style":164},[251],{"type":30,"value":252},"return",{"type":24,"tag":157,"props":254,"children":256},{"style":255},"--shiki-default:#6A737D",[257],{"type":30,"value":258}," //Return if div has already been removed\n",{"type":24,"tag":157,"props":260,"children":262},{"class":159,"line":261},5,[263,268,273,278],{"type":24,"tag":157,"props":264,"children":265},{"style":211},[266],{"type":30,"value":267},"        this",{"type":24,"tag":157,"props":269,"children":270},{"style":176},[271],{"type":30,"value":272},".",{"type":24,"tag":157,"props":274,"children":275},{"style":170},[276],{"type":30,"value":277},"updateMarkerPosition",{"type":24,"tag":157,"props":279,"children":280},{"style":176},[281],{"type":30,"value":282},"()\n",{"type":24,"tag":157,"props":284,"children":286},{"class":159,"line":285},6,[287],{"type":24,"tag":157,"props":288,"children":289},{"style":176},[290],{"type":30,"value":291},"    }\n",{"type":24,"tag":157,"props":293,"children":295},{"class":159,"line":294},7,[296],{"type":24,"tag":157,"props":297,"children":298},{"emptyLinePlaceholder":186},[299],{"type":30,"value":189},{"type":24,"tag":157,"props":301,"children":303},{"class":159,"line":302},8,[304,309,313,317,321],{"type":24,"tag":157,"props":305,"children":306},{"style":170},[307],{"type":30,"value":308},"    onAdd",{"type":24,"tag":157,"props":310,"children":311},{"style":176},[312],{"type":30,"value":203},{"type":24,"tag":157,"props":314,"children":315},{"style":164},[316],{"type":30,"value":208},{"type":24,"tag":157,"props":318,"children":319},{"style":211},[320],{"type":30,"value":214},{"type":24,"tag":157,"props":322,"children":323},{"style":176},[324],{"type":30,"value":179},{"type":24,"tag":157,"props":326,"children":328},{"class":159,"line":327},9,[329,333,338,343,347,351,356,361,366,371,375,380,384],{"type":24,"tag":157,"props":330,"children":331},{"style":211},[332],{"type":30,"value":267},{"type":24,"tag":157,"props":334,"children":335},{"style":176},[336],{"type":30,"value":337},"._map ",{"type":24,"tag":157,"props":339,"children":340},{"style":164},[341],{"type":30,"value":342},"=",{"type":24,"tag":157,"props":344,"children":345},{"style":211},[346],{"type":30,"value":242},{"type":24,"tag":157,"props":348,"children":349},{"style":176},[350],{"type":30,"value":272},{"type":24,"tag":157,"props":352,"children":353},{"style":170},[354],{"type":30,"value":355},"getMap",{"type":24,"tag":157,"props":357,"children":358},{"style":176},[359],{"type":30,"value":360},"() ",{"type":24,"tag":157,"props":362,"children":363},{"style":164},[364],{"type":30,"value":365},"as",{"type":24,"tag":157,"props":367,"children":368},{"style":170},[369],{"type":30,"value":370}," google",{"type":24,"tag":157,"props":372,"children":373},{"style":176},[374],{"type":30,"value":272},{"type":24,"tag":157,"props":376,"children":377},{"style":170},[378],{"type":30,"value":379},"maps",{"type":24,"tag":157,"props":381,"children":382},{"style":176},[383],{"type":30,"value":272},{"type":24,"tag":157,"props":385,"children":386},{"style":170},[387],{"type":30,"value":388},"Map\n",{"type":24,"tag":157,"props":390,"children":392},{"class":159,"line":391},10,[393],{"type":24,"tag":157,"props":394,"children":395},{"emptyLinePlaceholder":186},[396],{"type":30,"value":189},{"type":24,"tag":157,"props":398,"children":400},{"class":159,"line":399},11,[401,405,410,414,419,424,429,435],{"type":24,"tag":157,"props":402,"children":403},{"style":211},[404],{"type":30,"value":267},{"type":24,"tag":157,"props":406,"children":407},{"style":176},[408],{"type":30,"value":409},"._div ",{"type":24,"tag":157,"props":411,"children":412},{"style":164},[413],{"type":30,"value":342},{"type":24,"tag":157,"props":415,"children":416},{"style":176},[417],{"type":30,"value":418}," document.",{"type":24,"tag":157,"props":420,"children":421},{"style":170},[422],{"type":30,"value":423},"createElement",{"type":24,"tag":157,"props":425,"children":426},{"style":176},[427],{"type":30,"value":428},"(",{"type":24,"tag":157,"props":430,"children":432},{"style":431},"--shiki-default:#9ECBFF",[433],{"type":30,"value":434},"'div'",{"type":24,"tag":157,"props":436,"children":437},{"style":176},[438],{"type":30,"value":439},");\n",{"type":24,"tag":157,"props":441,"children":443},{"class":159,"line":442},12,[444,448,453,457,462,466,471],{"type":24,"tag":157,"props":445,"children":446},{"style":211},[447],{"type":30,"value":267},{"type":24,"tag":157,"props":449,"children":450},{"style":176},[451],{"type":30,"value":452},"._div",{"type":24,"tag":157,"props":454,"children":455},{"style":164},[456],{"type":30,"value":237},{"type":24,"tag":157,"props":458,"children":459},{"style":176},[460],{"type":30,"value":461},".style.position ",{"type":24,"tag":157,"props":463,"children":464},{"style":164},[465],{"type":30,"value":342},{"type":24,"tag":157,"props":467,"children":468},{"style":431},[469],{"type":30,"value":470}," 'absolute'",{"type":24,"tag":157,"props":472,"children":473},{"style":176},[474],{"type":30,"value":475},";\n",{"type":24,"tag":157,"props":477,"children":479},{"class":159,"line":478},13,[480,484,488,492,497,501,506],{"type":24,"tag":157,"props":481,"children":482},{"style":211},[483],{"type":30,"value":267},{"type":24,"tag":157,"props":485,"children":486},{"style":176},[487],{"type":30,"value":452},{"type":24,"tag":157,"props":489,"children":490},{"style":164},[491],{"type":30,"value":237},{"type":24,"tag":157,"props":493,"children":494},{"style":176},[495],{"type":30,"value":496},".style.zIndex ",{"type":24,"tag":157,"props":498,"children":499},{"style":164},[500],{"type":30,"value":342},{"type":24,"tag":157,"props":502,"children":503},{"style":431},[504],{"type":30,"value":505}," '5'",{"type":24,"tag":157,"props":507,"children":508},{"style":176},[509],{"type":30,"value":475},{"type":24,"tag":157,"props":511,"children":513},{"class":159,"line":512},14,[514,518,522,526,531,535,540],{"type":24,"tag":157,"props":515,"children":516},{"style":211},[517],{"type":30,"value":267},{"type":24,"tag":157,"props":519,"children":520},{"style":176},[521],{"type":30,"value":452},{"type":24,"tag":157,"props":523,"children":524},{"style":164},[525],{"type":30,"value":237},{"type":24,"tag":157,"props":527,"children":528},{"style":176},[529],{"type":30,"value":530},".style.width ",{"type":24,"tag":157,"props":532,"children":533},{"style":164},[534],{"type":30,"value":342},{"type":24,"tag":157,"props":536,"children":537},{"style":431},[538],{"type":30,"value":539}," '100%'",{"type":24,"tag":157,"props":541,"children":542},{"style":176},[543],{"type":30,"value":475},{"type":24,"tag":157,"props":545,"children":547},{"class":159,"line":546},15,[548,552,556,560,565,569,573],{"type":24,"tag":157,"props":549,"children":550},{"style":211},[551],{"type":30,"value":267},{"type":24,"tag":157,"props":553,"children":554},{"style":176},[555],{"type":30,"value":452},{"type":24,"tag":157,"props":557,"children":558},{"style":164},[559],{"type":30,"value":237},{"type":24,"tag":157,"props":561,"children":562},{"style":176},[563],{"type":30,"value":564},".style.height ",{"type":24,"tag":157,"props":566,"children":567},{"style":164},[568],{"type":30,"value":342},{"type":24,"tag":157,"props":570,"children":571},{"style":431},[572],{"type":30,"value":539},{"type":24,"tag":157,"props":574,"children":575},{"style":176},[576],{"type":30,"value":475},{"type":24,"tag":157,"props":578,"children":580},{"class":159,"line":579},16,[581],{"type":24,"tag":157,"props":582,"children":583},{"emptyLinePlaceholder":186},[584],{"type":30,"value":189},{"type":24,"tag":157,"props":586,"children":588},{"class":159,"line":587},17,[589,594,599,604,608,612,617],{"type":24,"tag":157,"props":590,"children":591},{"style":164},[592],{"type":30,"value":593},"        const",{"type":24,"tag":157,"props":595,"children":596},{"style":211},[597],{"type":30,"value":598}," panes",{"type":24,"tag":157,"props":600,"children":601},{"style":164},[602],{"type":30,"value":603}," =",{"type":24,"tag":157,"props":605,"children":606},{"style":211},[607],{"type":30,"value":242},{"type":24,"tag":157,"props":609,"children":610},{"style":176},[611],{"type":30,"value":272},{"type":24,"tag":157,"props":613,"children":614},{"style":170},[615],{"type":30,"value":616},"getPanes",{"type":24,"tag":157,"props":618,"children":619},{"style":176},[620],{"type":30,"value":621},"();\n",{"type":24,"tag":157,"props":623,"children":625},{"class":159,"line":624},18,[626,631,636,640,645],{"type":24,"tag":157,"props":627,"children":628},{"style":176},[629],{"type":30,"value":630},"        panes?.overlayMouseTarget.",{"type":24,"tag":157,"props":632,"children":633},{"style":170},[634],{"type":30,"value":635},"appendChild",{"type":24,"tag":157,"props":637,"children":638},{"style":176},[639],{"type":30,"value":428},{"type":24,"tag":157,"props":641,"children":642},{"style":211},[643],{"type":30,"value":644},"this",{"type":24,"tag":157,"props":646,"children":647},{"style":176},[648],{"type":30,"value":649},"._div);\n",{"type":24,"tag":157,"props":651,"children":653},{"class":159,"line":652},19,[654],{"type":24,"tag":157,"props":655,"children":656},{"emptyLinePlaceholder":186},[657],{"type":30,"value":189},{"type":24,"tag":157,"props":659,"children":661},{"class":159,"line":660},20,[662,666,671,676,680,684],{"type":24,"tag":157,"props":663,"children":664},{"style":211},[665],{"type":30,"value":267},{"type":24,"tag":157,"props":667,"children":668},{"style":176},[669],{"type":30,"value":670},"._lhInfoWindow.",{"type":24,"tag":157,"props":672,"children":673},{"style":170},[674],{"type":30,"value":675},"setMap",{"type":24,"tag":157,"props":677,"children":678},{"style":176},[679],{"type":30,"value":428},{"type":24,"tag":157,"props":681,"children":682},{"style":211},[683],{"type":30,"value":644},{"type":24,"tag":157,"props":685,"children":686},{"style":176},[687],{"type":30,"value":688},"._map)\n",{"type":24,"tag":157,"props":690,"children":692},{"class":159,"line":691},21,[693],{"type":24,"tag":157,"props":694,"children":695},{"style":176},[696],{"type":30,"value":291},{"type":24,"tag":157,"props":698,"children":700},{"class":159,"line":699},22,[701],{"type":24,"tag":157,"props":702,"children":703},{"emptyLinePlaceholder":186},[704],{"type":30,"value":189},{"type":24,"tag":157,"props":706,"children":708},{"class":159,"line":707},23,[709,714],{"type":24,"tag":157,"props":710,"children":711},{"style":170},[712],{"type":30,"value":713},"    generateMarkers",{"type":24,"tag":157,"props":715,"children":716},{"style":176},[717],{"type":30,"value":718},"() {\n",{"type":24,"tag":157,"props":720,"children":722},{"class":159,"line":721},24,[723,728,732,736,740,744],{"type":24,"tag":157,"props":724,"children":725},{"style":164},[726],{"type":30,"value":727},"      if",{"type":24,"tag":157,"props":729,"children":730},{"style":176},[731],{"type":30,"value":232},{"type":24,"tag":157,"props":733,"children":734},{"style":164},[735],{"type":30,"value":237},{"type":24,"tag":157,"props":737,"children":738},{"style":211},[739],{"type":30,"value":242},{"type":24,"tag":157,"props":741,"children":742},{"style":176},[743],{"type":30,"value":247},{"type":24,"tag":157,"props":745,"children":746},{"style":164},[747],{"type":30,"value":748},"return\n",{"type":24,"tag":157,"props":750,"children":752},{"class":159,"line":751},25,[753],{"type":24,"tag":157,"props":754,"children":755},{"emptyLinePlaceholder":186},[756],{"type":30,"value":189},{"type":24,"tag":157,"props":758,"children":760},{"class":159,"line":759},26,[761,766,771,775,779,783,788],{"type":24,"tag":157,"props":762,"children":763},{"style":164},[764],{"type":30,"value":765},"      const",{"type":24,"tag":157,"props":767,"children":768},{"style":211},[769],{"type":30,"value":770}," overlayProjection",{"type":24,"tag":157,"props":772,"children":773},{"style":164},[774],{"type":30,"value":603},{"type":24,"tag":157,"props":776,"children":777},{"style":211},[778],{"type":30,"value":242},{"type":24,"tag":157,"props":780,"children":781},{"style":176},[782],{"type":30,"value":272},{"type":24,"tag":157,"props":784,"children":785},{"style":170},[786],{"type":30,"value":787},"getProjection",{"type":24,"tag":157,"props":789,"children":790},{"style":176},[791],{"type":30,"value":282},{"type":24,"tag":157,"props":793,"children":795},{"class":159,"line":794},27,[796,800,804,808,813],{"type":24,"tag":157,"props":797,"children":798},{"style":164},[799],{"type":30,"value":727},{"type":24,"tag":157,"props":801,"children":802},{"style":176},[803],{"type":30,"value":232},{"type":24,"tag":157,"props":805,"children":806},{"style":164},[807],{"type":30,"value":237},{"type":24,"tag":157,"props":809,"children":810},{"style":176},[811],{"type":30,"value":812}," overlayProjection) ",{"type":24,"tag":157,"props":814,"children":815},{"style":164},[816],{"type":30,"value":748},{"type":24,"tag":157,"props":818,"children":820},{"class":159,"line":819},28,[821],{"type":24,"tag":157,"props":822,"children":823},{"emptyLinePlaceholder":186},[824],{"type":30,"value":189},{"type":24,"tag":157,"props":826,"children":828},{"class":159,"line":827},29,[829,833,838,842,847,852,856],{"type":24,"tag":157,"props":830,"children":831},{"style":164},[832],{"type":30,"value":765},{"type":24,"tag":157,"props":834,"children":835},{"style":211},[836],{"type":30,"value":837}," markerInnerHTML",{"type":24,"tag":157,"props":839,"children":840},{"style":164},[841],{"type":30,"value":208},{"type":24,"tag":157,"props":843,"children":844},{"style":211},[845],{"type":30,"value":846}," string",{"type":24,"tag":157,"props":848,"children":849},{"style":176},[850],{"type":30,"value":851},"[] ",{"type":24,"tag":157,"props":853,"children":854},{"style":164},[855],{"type":30,"value":342},{"type":24,"tag":157,"props":857,"children":858},{"style":176},[859],{"type":30,"value":860}," []\n",{"type":24,"tag":157,"props":862,"children":864},{"class":159,"line":863},30,[865],{"type":24,"tag":157,"props":866,"children":867},{"emptyLinePlaceholder":186},[868],{"type":30,"value":189},{"type":24,"tag":157,"props":870,"children":872},{"class":159,"line":871},31,[873,878,883,887,891,896],{"type":24,"tag":157,"props":874,"children":875},{"style":164},[876],{"type":30,"value":877},"      let",{"type":24,"tag":157,"props":879,"children":880},{"style":176},[881],{"type":30,"value":882}," totalMarkers ",{"type":24,"tag":157,"props":884,"children":885},{"style":164},[886],{"type":30,"value":342},{"type":24,"tag":157,"props":888,"children":889},{"style":211},[890],{"type":30,"value":242},{"type":24,"tag":157,"props":892,"children":893},{"style":176},[894],{"type":30,"value":895},"._markers.",{"type":24,"tag":157,"props":897,"children":898},{"style":211},[899],{"type":30,"value":900},"length\n",{"type":24,"tag":157,"props":902,"children":904},{"class":159,"line":903},32,[905],{"type":24,"tag":157,"props":906,"children":907},{"style":255},[908],{"type":30,"value":909},"      // //Random marker price to show\n",{"type":24,"tag":157,"props":911,"children":913},{"class":159,"line":912},33,[914,918,923,927,931,936,941],{"type":24,"tag":157,"props":915,"children":916},{"style":164},[917],{"type":30,"value":765},{"type":24,"tag":157,"props":919,"children":920},{"style":211},[921],{"type":30,"value":922}," zoom",{"type":24,"tag":157,"props":924,"children":925},{"style":164},[926],{"type":30,"value":603},{"type":24,"tag":157,"props":928,"children":929},{"style":211},[930],{"type":30,"value":242},{"type":24,"tag":157,"props":932,"children":933},{"style":176},[934],{"type":30,"value":935},"._map?.",{"type":24,"tag":157,"props":937,"children":938},{"style":170},[939],{"type":30,"value":940},"getZoom",{"type":24,"tag":157,"props":942,"children":943},{"style":176},[944],{"type":30,"value":282},{"type":24,"tag":157,"props":946,"children":948},{"class":159,"line":947},34,[949,953,957,961,966],{"type":24,"tag":157,"props":950,"children":951},{"style":164},[952],{"type":30,"value":727},{"type":24,"tag":157,"props":954,"children":955},{"style":176},[956],{"type":30,"value":232},{"type":24,"tag":157,"props":958,"children":959},{"style":164},[960],{"type":30,"value":237},{"type":24,"tag":157,"props":962,"children":963},{"style":176},[964],{"type":30,"value":965}," zoom) ",{"type":24,"tag":157,"props":967,"children":968},{"style":164},[969],{"type":30,"value":748},{"type":24,"tag":157,"props":971,"children":973},{"class":159,"line":972},35,[974],{"type":24,"tag":157,"props":975,"children":976},{"emptyLinePlaceholder":186},[977],{"type":30,"value":189},{"type":24,"tag":157,"props":979,"children":981},{"class":159,"line":980},36,[982,986,991,995,999,1003,1008],{"type":24,"tag":157,"props":983,"children":984},{"style":164},[985],{"type":30,"value":765},{"type":24,"tag":157,"props":987,"children":988},{"style":211},[989],{"type":30,"value":990}," offsetMarkerHeight",{"type":24,"tag":157,"props":992,"children":993},{"style":164},[994],{"type":30,"value":603},{"type":24,"tag":157,"props":996,"children":997},{"style":211},[998],{"type":30,"value":242},{"type":24,"tag":157,"props":1000,"children":1001},{"style":176},[1002],{"type":30,"value":272},{"type":24,"tag":157,"props":1004,"children":1005},{"style":170},[1006],{"type":30,"value":1007},"getMarkerOffsetY",{"type":24,"tag":157,"props":1009,"children":1010},{"style":176},[1011],{"type":30,"value":1012},"(zoom)\n",{"type":24,"tag":157,"props":1014,"children":1016},{"class":159,"line":1015},37,[1017],{"type":24,"tag":157,"props":1018,"children":1019},{"emptyLinePlaceholder":186},[1020],{"type":30,"value":189},{"type":24,"tag":157,"props":1022,"children":1024},{"class":159,"line":1023},38,[1025,1030,1035,1040],{"type":24,"tag":157,"props":1026,"children":1027},{"style":164},[1028],{"type":30,"value":1029},"      while",{"type":24,"tag":157,"props":1031,"children":1032},{"style":176},[1033],{"type":30,"value":1034},"(totalMarkers",{"type":24,"tag":157,"props":1036,"children":1037},{"style":164},[1038],{"type":30,"value":1039},"--",{"type":24,"tag":157,"props":1041,"children":1042},{"style":176},[1043],{"type":30,"value":1044},") {\n",{"type":24,"tag":157,"props":1046,"children":1048},{"class":159,"line":1047},39,[1049],{"type":24,"tag":157,"props":1050,"children":1051},{"style":255},[1052],{"type":30,"value":1053},"        //get current marker\n",{"type":24,"tag":157,"props":1055,"children":1057},{"class":159,"line":1056},40,[1058,1062,1067,1071,1075],{"type":24,"tag":157,"props":1059,"children":1060},{"style":164},[1061],{"type":30,"value":593},{"type":24,"tag":157,"props":1063,"children":1064},{"style":211},[1065],{"type":30,"value":1066}," currentMarker",{"type":24,"tag":157,"props":1068,"children":1069},{"style":164},[1070],{"type":30,"value":603},{"type":24,"tag":157,"props":1072,"children":1073},{"style":211},[1074],{"type":30,"value":242},{"type":24,"tag":157,"props":1076,"children":1077},{"style":176},[1078],{"type":30,"value":1079},"._markers[totalMarkers]\n",{"type":24,"tag":157,"props":1081,"children":1083},{"class":159,"line":1082},41,[1084,1088,1093,1097,1102,1107],{"type":24,"tag":157,"props":1085,"children":1086},{"style":164},[1087],{"type":30,"value":593},{"type":24,"tag":157,"props":1089,"children":1090},{"style":211},[1091],{"type":30,"value":1092}," divPixel",{"type":24,"tag":157,"props":1094,"children":1095},{"style":164},[1096],{"type":30,"value":603},{"type":24,"tag":157,"props":1098,"children":1099},{"style":176},[1100],{"type":30,"value":1101}," overlayProjection.",{"type":24,"tag":157,"props":1103,"children":1104},{"style":170},[1105],{"type":30,"value":1106},"fromLatLngToDivPixel",{"type":24,"tag":157,"props":1108,"children":1109},{"style":176},[1110],{"type":30,"value":1111},"({\n",{"type":24,"tag":157,"props":1113,"children":1115},{"class":159,"line":1114},42,[1116,1121,1126,1131,1135],{"type":24,"tag":157,"props":1117,"children":1118},{"style":176},[1119],{"type":30,"value":1120},"          lat: ",{"type":24,"tag":157,"props":1122,"children":1123},{"style":164},[1124],{"type":30,"value":1125},"+",{"type":24,"tag":157,"props":1127,"children":1128},{"style":176},[1129],{"type":30,"value":1130},"currentMarker.attributes.lat",{"type":24,"tag":157,"props":1132,"children":1133},{"style":164},[1134],{"type":30,"value":237},{"type":24,"tag":157,"props":1136,"children":1137},{"style":176},[1138],{"type":30,"value":1139},",\n",{"type":24,"tag":157,"props":1141,"children":1143},{"class":159,"line":1142},43,[1144,1149,1153,1158],{"type":24,"tag":157,"props":1145,"children":1146},{"style":176},[1147],{"type":30,"value":1148},"          lng: ",{"type":24,"tag":157,"props":1150,"children":1151},{"style":164},[1152],{"type":30,"value":1125},{"type":24,"tag":157,"props":1154,"children":1155},{"style":176},[1156],{"type":30,"value":1157},"currentMarker.attributes.lng",{"type":24,"tag":157,"props":1159,"children":1160},{"style":164},[1161],{"type":30,"value":1162},"!\n",{"type":24,"tag":157,"props":1164,"children":1166},{"class":159,"line":1165},44,[1167],{"type":24,"tag":157,"props":1168,"children":1169},{"style":176},[1170],{"type":30,"value":1171},"        })\n",{"type":24,"tag":157,"props":1173,"children":1175},{"class":159,"line":1174},45,[1176],{"type":24,"tag":157,"props":1177,"children":1178},{"emptyLinePlaceholder":186},[1179],{"type":30,"value":189},{"type":24,"tag":157,"props":1181,"children":1183},{"class":159,"line":1182},46,[1184,1188,1193,1197],{"type":24,"tag":157,"props":1185,"children":1186},{"style":164},[1187],{"type":30,"value":593},{"type":24,"tag":157,"props":1189,"children":1190},{"style":211},[1191],{"type":30,"value":1192}," position",{"type":24,"tag":157,"props":1194,"children":1195},{"style":164},[1196],{"type":30,"value":603},{"type":24,"tag":157,"props":1198,"children":1199},{"style":176},[1200],{"type":30,"value":179},{"type":24,"tag":157,"props":1202,"children":1204},{"class":159,"line":1203},47,[1205,1210,1214,1219,1224],{"type":24,"tag":157,"props":1206,"children":1207},{"style":176},[1208],{"type":30,"value":1209},"          x: divPixel?.x",{"type":24,"tag":157,"props":1211,"children":1212},{"style":164},[1213],{"type":30,"value":237},{"type":24,"tag":157,"props":1215,"children":1216},{"style":164},[1217],{"type":30,"value":1218}," -",{"type":24,"tag":157,"props":1220,"children":1221},{"style":211},[1222],{"type":30,"value":1223}," 15",{"type":24,"tag":157,"props":1225,"children":1226},{"style":176},[1227],{"type":30,"value":1139},{"type":24,"tag":157,"props":1229,"children":1231},{"class":159,"line":1230},48,[1232,1237,1241,1245],{"type":24,"tag":157,"props":1233,"children":1234},{"style":176},[1235],{"type":30,"value":1236},"          y: divPixel?.y",{"type":24,"tag":157,"props":1238,"children":1239},{"style":164},[1240],{"type":30,"value":237},{"type":24,"tag":157,"props":1242,"children":1243},{"style":164},[1244],{"type":30,"value":1218},{"type":24,"tag":157,"props":1246,"children":1247},{"style":176},[1248],{"type":30,"value":1249}," offsetMarkerHeight\n",{"type":24,"tag":157,"props":1251,"children":1253},{"class":159,"line":1252},49,[1254],{"type":24,"tag":157,"props":1255,"children":1256},{"style":176},[1257],{"type":30,"value":1258},"        }\n",{"type":24,"tag":157,"props":1260,"children":1262},{"class":159,"line":1261},50,[1263],{"type":24,"tag":157,"props":1264,"children":1265},{"emptyLinePlaceholder":186},[1266],{"type":30,"value":189},{"type":24,"tag":157,"props":1268,"children":1270},{"class":159,"line":1269},51,[1271,1275,1280,1285,1290],{"type":24,"tag":157,"props":1272,"children":1273},{"style":164},[1274],{"type":30,"value":227},{"type":24,"tag":157,"props":1276,"children":1277},{"style":176},[1278],{"type":30,"value":1279}," (currentMarker.type ",{"type":24,"tag":157,"props":1281,"children":1282},{"style":164},[1283],{"type":30,"value":1284},"===",{"type":24,"tag":157,"props":1286,"children":1287},{"style":431},[1288],{"type":30,"value":1289}," 'lot'",{"type":24,"tag":157,"props":1291,"children":1292},{"style":176},[1293],{"type":30,"value":1044},{"type":24,"tag":157,"props":1295,"children":1297},{"class":159,"line":1296},52,[1298,1303,1308,1312,1317],{"type":24,"tag":157,"props":1299,"children":1300},{"style":176},[1301],{"type":30,"value":1302},"          markerInnerHTML.",{"type":24,"tag":157,"props":1304,"children":1305},{"style":170},[1306],{"type":30,"value":1307},"push",{"type":24,"tag":157,"props":1309,"children":1310},{"style":176},[1311],{"type":30,"value":428},{"type":24,"tag":157,"props":1313,"children":1314},{"style":170},[1315],{"type":30,"value":1316},"generateLotMarker",{"type":24,"tag":157,"props":1318,"children":1319},{"style":176},[1320],{"type":30,"value":1321},"(currentMarker, position))\n",{"type":24,"tag":157,"props":1323,"children":1325},{"class":159,"line":1324},53,[1326,1331,1336],{"type":24,"tag":157,"props":1327,"children":1328},{"style":176},[1329],{"type":30,"value":1330},"        } ",{"type":24,"tag":157,"props":1332,"children":1333},{"style":164},[1334],{"type":30,"value":1335},"else",{"type":24,"tag":157,"props":1337,"children":1338},{"style":176},[1339],{"type":30,"value":179},{"type":24,"tag":157,"props":1341,"children":1343},{"class":159,"line":1342},54,[1344,1348,1352,1356,1361],{"type":24,"tag":157,"props":1345,"children":1346},{"style":176},[1347],{"type":30,"value":1302},{"type":24,"tag":157,"props":1349,"children":1350},{"style":170},[1351],{"type":30,"value":1307},{"type":24,"tag":157,"props":1353,"children":1354},{"style":176},[1355],{"type":30,"value":428},{"type":24,"tag":157,"props":1357,"children":1358},{"style":170},[1359],{"type":30,"value":1360},"generateCompMarker",{"type":24,"tag":157,"props":1362,"children":1363},{"style":176},[1364],{"type":30,"value":1321},{"type":24,"tag":157,"props":1366,"children":1368},{"class":159,"line":1367},55,[1369],{"type":24,"tag":157,"props":1370,"children":1371},{"style":176},[1372],{"type":30,"value":1258},{"type":24,"tag":157,"props":1374,"children":1376},{"class":159,"line":1375},56,[1377],{"type":24,"tag":157,"props":1378,"children":1379},{"style":176},[1380],{"type":30,"value":1381},"      }\n",{"type":24,"tag":157,"props":1383,"children":1385},{"class":159,"line":1384},57,[1386],{"type":24,"tag":157,"props":1387,"children":1388},{"emptyLinePlaceholder":186},[1389],{"type":30,"value":189},{"type":24,"tag":157,"props":1391,"children":1393},{"class":159,"line":1392},58,[1394,1399,1403,1407,1412,1416,1421,1426,1430,1435],{"type":24,"tag":157,"props":1395,"children":1396},{"style":211},[1397],{"type":30,"value":1398},"      this",{"type":24,"tag":157,"props":1400,"children":1401},{"style":176},[1402],{"type":30,"value":452},{"type":24,"tag":157,"props":1404,"children":1405},{"style":164},[1406],{"type":30,"value":237},{"type":24,"tag":157,"props":1408,"children":1409},{"style":176},[1410],{"type":30,"value":1411},".innerHTML ",{"type":24,"tag":157,"props":1413,"children":1414},{"style":164},[1415],{"type":30,"value":342},{"type":24,"tag":157,"props":1417,"children":1418},{"style":176},[1419],{"type":30,"value":1420}," markerInnerHTML.",{"type":24,"tag":157,"props":1422,"children":1423},{"style":170},[1424],{"type":30,"value":1425},"join",{"type":24,"tag":157,"props":1427,"children":1428},{"style":176},[1429],{"type":30,"value":428},{"type":24,"tag":157,"props":1431,"children":1432},{"style":431},[1433],{"type":30,"value":1434},"''",{"type":24,"tag":157,"props":1436,"children":1437},{"style":176},[1438],{"type":30,"value":1439},")\n",{"type":24,"tag":157,"props":1441,"children":1443},{"class":159,"line":1442},59,[1444,1448,1453,1457,1461],{"type":24,"tag":157,"props":1445,"children":1446},{"style":211},[1447],{"type":30,"value":1398},{"type":24,"tag":157,"props":1449,"children":1450},{"style":176},[1451],{"type":30,"value":1452},"._divMarkers ",{"type":24,"tag":157,"props":1454,"children":1455},{"style":164},[1456],{"type":30,"value":342},{"type":24,"tag":157,"props":1458,"children":1459},{"style":211},[1460],{"type":30,"value":242},{"type":24,"tag":157,"props":1462,"children":1463},{"style":176},[1464],{"type":30,"value":1465},"._div?.children\n",{"type":24,"tag":157,"props":1467,"children":1469},{"class":159,"line":1468},60,[1470],{"type":24,"tag":157,"props":1471,"children":1472},{"style":176},[1473],{"type":30,"value":291},{"type":24,"tag":157,"props":1475,"children":1477},{"class":159,"line":1476},61,[1478],{"type":24,"tag":157,"props":1479,"children":1480},{"style":176},[1481],{"type":30,"value":1482},"}\n",{"type":24,"tag":1484,"props":1485,"children":1486},"style",{},[1487],{"type":30,"value":1488},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":5,"searchDepth":182,"depth":182,"links":1490},[1491,1492,1493],{"id":27,"depth":192,"text":31},{"id":50,"depth":192,"text":53},{"id":107,"depth":192,"text":110},"markdown","content:00-vue-performant-google-map-marker.md","content","00-vue-performant-google-map-marker.md","00-vue-performant-google-map-marker","md",1734248061882]